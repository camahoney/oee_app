import csv
import io
from datetime import date
from .db import RateEntry, User
# Import auth utility to hash password dynamically so we know it is "admin"
# Note: Accessing router function from here might be circular if auth imports seeds.
# Let's check imports. Main imports seeds. Main imports routers.auth. 
# Routers.auth imports db and database. It does NOT import seeds.
# So we can safely import auth here? `from .routers.auth import get_password_hash`.

# Wait, `get_password_hash` uses `pwd_context` which is in `auth.py`. 
# Ideally, we should move `pwd_context` to a `utils.py` to avoid circular deps.
# But for now, let's try importing. If fails, I'll just hardcode a known hash for "admin".

# Known bcrypt hash for "admin" (cost 12): 
# $2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW

def get_seed_users():
    return [
        User(
            email="admin@example.com", 
            # Password is 'admin'
            hashed_password="$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW", 
            role="admin"
        )
    ]

CSV_DATA = """SO#,Part Number,WorkStation,Cavities,Ideal in seconds,Total Cycle,Unit,Heats,PCS
56128,4228564,600T Comp,144,1309.090906,21.81818176,min,11,1584
56440,4348325,600T Comp,144,360,6,min,80,11520
56547,3751510,600T Comp,100,1110,18.5,min,13,1300
57463 / 6193,2860332,600T Comp,144,2591.999988,43.19999981,min,15,2160
SO# 51730 / 51730,CP5100-060,INJ 31,6,703.99998,11.733333,min,44,264
SO# 517300 / 517300,23620238,500T,6,900,15,min,44,264
SO# 52022 / 52022,60374000,Inj28,4,1200,20,min,24,96
SO# 52025 / 52025,23898854,500T,12,65.45454,1.090909,min,43,516
SO# 52030 / 52030,SS-CK6117-070,,24,360,6,min,80,1920
SO# 52035 / 52035,24366617,500T,24,480,8,min,60,1440
SO# 54045 / 54045,SS-CP5172-060,Injection,6,900,15,min,32,192
SO# 543590 / 543590,9791-3,150T,4,630,10.5,min,33,132
SO# 545080 / 545080,11271-5,Inj29,32,960,16,min,15,480
SO# 54841 / 54841,N801951S,600T Comp,100,1680,28,min,,"14,736"
SO# 55251 / 5994,52039187,600T Comp,55,660,11,min,80,4400
SO# 554720 / 554720,006966-000,600T Comp,9,420,7,min,30,270
SO# 554850 / 554850,6729,600T Comp,16,576,9.6,min,25,400
SO# 55731 / 55731,26118065,400T,24,480,8,min,44,1056
SO# 558000 / 558000,04895412AC,INJ18,32,720,12,min,40,1280
SO# 558690 / 558690,10596,600T Comp,64,1260,21,min,16,1024
SO# 558880 / 558880,9932-2,Inj 18,16,450,7.5,min,64,1024
SO# 559560 / 559560,11459-2,Inj 38,8,799.9998,13.33333,min,36,288
SO# 56448,9094306,600T Comp,30,4114.2,68.57,min,7,210
SO# 56488 / 56488,68622598AA,400T,32,576,9.6,min,50,1600
SO# 56488 / 56488,13207-2,400T,32,576,9.6,min,50,1600
SO# 56608 / 56608,353355,600T Comp,72,900,15,min,51,3672
SO# 57176/ 57176,386819S,600T Comp,121,645,10.75,min,44,5402.79
SO# 57452/ 57452,4373728,600T Comp,169,942,15.7,min,31,5167
SO# 575000 / 575000,11105-9,Inj 17 - 18,16,1440,24,min,20,320
SO# 575230 / 575230,7712/20096800,Inj23,24,626.0868,10.43478,min,23,552
SO# 576200 / 576200,7712/20097201,INJ,24,54.55,,,22,528
SO# 578940 / 578940,10860-1,CMP,64,21.43,15.42,min,21,1992
SO# 578950 / 578950,10873-1,CMP,85,1228.91,20.48,min,21,1992
SO# 579280 / 579280,11636-2,600T Comp,12,1230,20.5,min,25,1992
SO# 579970 / 579970,12987-72,500T,8,100,,min,36,288
SO# 580410 / 580410,SS-CK6017-060,Injection,8,960,16,min,30,240
SO# 580420 / 580420,SS-CK6017-300,Assembly,1,84.70588235,1.411764706,min,340,340
SO# 600670,21377-H98A0A,Inspection,1,19.2,19.2,sec,,
SO# 610010 / 610010,A62-6082,Trim,1,19.20,19.20,sec,1152,1152
SO# 610011 / 610011,A62-6082,ASY,1,,,,1152,1152
SO# 610031 / 610031,A85-2144-002,Asy31,1,11,11,sec,320,320
SO# 610101 / 610101,A85-2144-003,Asy31,1,11,11,sec,320,320
SO# 610111 / 610111,A85-2144-003R,Asy31,1,11,11,sec,320,320
SO# 610121 / 610121,A85-2144-001,Asy31,1,11,11,sec,320,320
SO# 610131 / 610131,A85-2144-001R,Asy31,1,11,11,sec,320,320
SO# 610172 / 610172,A85-2142,400T,24,630,10.5,min,42,1008
SO# 610210 / 610210,18-73837-000,400T,8,799.998,13.3333,min,36,288
SO# 610210 / 610210,18-73837-000,Asy10,1,8,8,sec,480,480
SO# 610220 / 610220,A85-2143,400T,24,732,12.2,min,46,1104
SO# 610260 / 610260,01-35313-000,Asy09,1,38.3,1.2,sec,752,752
SO# 610260 / 610260,01-35313-000,Asy09,1,38.3,1.2,sec,752,752
SO# 610261 / 610261,01-35313-000,Asy09,1,38.3,1.2,sec,752,752
SO# 610270 / 610270,01-35313-001,Asy09,1,38.3,1.2,sec,752,752
SO# 610280 / 610280,23590935,500T,24,872.72724,14.545454,min,33,792
SO# 610290,23590943,500T,0,0,0,min,,33
SO# 610320 / 610320,23898854,ASY13,1,65.5,1.090909,min,440,440
SO# 610350 / 610350,A62-1061-700,Asy09,1,30,0.5,min,960,960
SO# 610360 / 610360,24366617,Asy 11,1,40,0.66666,min,720,720
SO# 610370 / 610370,24509739,,1,30,0.5,min,960,960
SO# 610400 / 610400,54034 7BA0A,500T,8,300,5,min,70,560
SO# 610410 / 610410,160300068,500T,16,360,6,min,80,1280
SO# 610450 / 610450,160300283,500T,16,360,6,min,80,1280
SO# 610470 / 610470,18-74797-000,ASY38,1,60,1,min,480,480
SO# 610590 / 610590,54034,Injection,8,300,5,min,70,560
SO# 612010/ 612010  ,11286-15,800T INJ,32,270,4.5,min,50,1600
SO# 617400 / 617400,68622598AA,Asy03,1,180,3,sec,160,160
SO# 620040 / 620040,A62-1060-700,Asy08,1,30,0.5,sec,960,960
SO# 624110 / 624110,R62-6020M03,Asy 01,1,,,,,480
SO# 624111 / 624111,R62-6020M03,Asy 01,1,,,,,480
SO# 641780 / 641780,15000896,350T,32,738.4614,12.30769,min,39,1248
SO# 642000 / 642000,121-002140,600T Comp,8,1151.998505,19.19997508,min,29,232
SO# 642380 / 642380,13248,400T,12,720,12,min,31,372
SO# 642410 / 642410,TLB-13371-45,500T,24,929.028,15.4838,min,31,744
SO# 642800/ 642800 ,11840-2A,600T Comp,16,899.9955288,14.99992548,min,21,336
SO# 643740 / 643740,65381000,ASY07,1,130.3,2.171945,min,221,221
SO# 644140 / 644140,S1206-EW040,400T,16,870,14.5,min,39,624
SO# 645081 / 645081,R62-6013,Service,1,52.4,0.87272,min,550,550
SO# 645082 / 645082,R62-6013,800T INJ,32,1080,18,min,15,480
SO# 645260 / 645260,121-005933,600T Comp,1,600,10,min,50,50
SO# 645270 / 645270,121-005935,600T Comp,1,600,10,min,54,54
SO# 649700 / 649700,52006404,600T Comp,64,1152,19.2,min,25,1600
SO# 650080/ 650080,4668167,600T Comp,64,168,2.8,min,55,3520
SO# 651060 / 651060,52002750,600T Comp,49,1440,24,min,20,980
SO# 651970 / 651970,04656464AA,600T Comp,32,480,8,min,30,960
SO# 652170 / 652170,52009562,600T Comp,35,3937.491142,65.62485236,min,16,560
SO# 652390 / 652390,024209-000,600T Comp,12,3432,57.2,min,18,216
SO# 652400 / 652400,26953,600T Comp,6,1600.00002,26.666667,min,8,48
SO# 652540 / 652540,GAFRW23675,150T,16,4607.921169,76.79868614,min,12,192
SO# 653360 / 653360,14044083,600T Comp,36,3600,60,min,8,288
SO# 653690 / 653690,C-30861,800T Comp,9,1620,27,min,16,144
SO# 654100 / 654100,019279-000,Hend Assy,1,160,2.6666,sec,180,180
SO# 654580 / 654580,006966-000,Hend Assy,1,115.2,1.92,min,250,250
SO# 654590 / 654590,060374-000,ASY,1,900,15,min,480,480
SO# 654600 / 654600,18-40587-000,800T INJ,8,1694.09888,28.23498133,min,,
SO# 654650 / 654650,18-41503-000,800T INJ,8,847.0118739,14.11686456,min,16,128
SO# 654680 / 654680,18-41503-001,800T INJ,4,847.0118739,14.11686456,min,16,128
SO# 654690 / 654690,18-41503-002,800T INJ,4,847.0118739,14.11686456,min,17,68
SO# 654930 / 654930,16-15888-000,600T Comp,24,510,8.5,min,32,768
SO# 655370/ 655370,59257-000S,800T INJ,6,810,13.5,min,30,180
SO# 655440 / 655440,18-41503-003,800T INJ,8,847.0118739,14.11686456,min,16,128
SO# 655450 / 655450,18-41503-004,800T INJ,8,847.0118739,14.11686456,min,16,128
SO# 655620 / 655620,25728544,800T INJ,24,757.8942,12.63157,min,38,912
SO# 655630 / 655630,25728545,800T INJ,24,757.8942,12.63157,min,38,912
SO# 655640 / 655640,25728546,800T INJ,24,757.8942,12.63157,min,38,912
SO# 655660 / 655660,25741484,800T INJ,24,757.8942,12.63157,min,38,912
SO# 655670 / 655670,25728543,800T INJ,24,378.9468,6.31578,min,38,912
SO# 656080 / 656080,52089330AB,800T INJ,32,575.9994515,9.599990858,min,50,1600
SO# 656090 / 656090,52089328AC,800T INJ,32,575.9994515,9.599990858,min,50,1600
SO# 656800 / 656800,8525967,500T INJ,24,600,10,min,27,648
SO# 656801 / 656801,12681-1,400T,24,1080,18,min,27,648
SO# 657310 / 657310,26118065,TRIM,1,10.03,0.167247387,mins,2870,2870
SO# 657360 / 657360,05085896AA,Asy01,1,19.3288,0.322147651,mins,1490,1490
SO# 657460 / 657460,064299-004,800T INJ,8,1152,19.2,min,25,200
SO# 657490 / 657490,04895412AC,Asy02,1,35.865504,0.5977584,mins,803,803
SO# 657540 / 657540,22186478,800T INJ,32,1920,32,min,15,480
SO# 657550 / 657550,PT108-20,800T INJ,4,1441.8,24.03,min,21,84
SO# 657600 / 657600,PT108-16,800T INJ,4,1441.8,24.03,min,16,64
SO# 657630/ 657630,22049891,400T,59,810,13.5,min,25,1475
SO# 657860 / 657860,PT108-12,800T INJ,4,1441.8,24.03,min,19,76
SO# 658060 / 658060,PT108-24,800T INJ,4,1441.8,24.03,min,19,76
SO# 658120 / 658120,065743-000,800T INJ,6,669.7674,11.16279,min,31,186
SO# 658120/ 658120,6574-3000,800T INJ,6,1230,20.5,min,31,186
SO# 658150 / 658150,SZ460-027-01,400T,24,306,5.1,min,98,2352
SO# 658170 / 658170,FC-20,600T Comp,6,2460,41,min,11,66
SO# 658180 / 658180,FC-35,600T Comp,5,2460,41,min,11,55
SO# 658190 / 658190,FC-52,600T Comp,4,2460,41,min,11,44
SO# 658200 / 658200,FC-70,600T Comp,4,2460,41,min,14,56
SO# 658210 / 658210,DSR108-63,600T Comp,6,2676,44.6,min,11,66
SO# 658220 / 658220,DSR108-75,600T Comp,6,2676,44.6,min,11,66
SO# 658240 / 658240,DSR108-100,600T Comp,6,2676,44.6,min,11,66
SO# 658490 / 658490,04721746AB,600T Comp,38,1232.432281,20.54053802,min,25,
SO# 658800 / 658800,18-59922-000,Asy 03,1,36,0.6,mins,800,800
SO# 658940 / 658940,VS-RSB-01,350T,2,2057.1426,34.28571,min,14,28
SO# 659300 / 659300,05006386AA,Asy01,1,22.1198,0.368663,mins,1302,1302
SO# 659770 / 659770,3836802C97,Asy05,1,71.46401,1.191066,mins,403,403
SO# 659780 / 659780,3841766C95,Asy05,1,94.7368,1.5789,mins,304,304
SO# 659790 / 659790,3839857C95,Asy05,1,38.76177,0.646029,sec,743,743
SO# 659830 / 659830,D25364,800T Comp,9,1500,25,min,13,117
SO# 660220 / 660220,8419981,600T Comp,1,1920,32,min,7,7
SO# 660490 / 660490,8361943,600T Comp,1,1920,32,min,20,20
SO# 660550/ 660550,L010035,600T Comp,16,345,5.75,min,41,656
SO# 660910 / 660910,8381227,600T Comp,1,630,10.5,min,10,10
SO# 661130 / 661130,8194450,600T Comp,4,1439.916434,23.99860723,min,11,44
SO# 661250 / 661250,8194449,600T Comp,4,1440,24,min,20,80
SO# 661270 / 661270,8332268,600T Comp,1,1920,32,min,9,9
SO# 661690 / 661690,8431436,600T Comp,1,630,10.5,min,14,14
SO# 662390 / 662390,8491288,600T Comp,1,630,10.5,min,27,27
SO# 662920,9094306,Trim,1,30.83511,0.513918,min,934,934
SO# 663080 / 663080,9313607,600T Comp,1,840,14,min,25,25
SO# 663720 / 663720,22822466,600T Comp,36,660,11,min,32,1152
SO# 664250 / 664250,9500661,600T Comp,1,1028.568,17.1428,min,28,28
SO# 664630 / 664630,68051255AC,Asy03,1,41.1,0.685714,mins,700,700
SO# 665030/ 665030,11919-2A,600T Comp,16,360,6,min,18,288
SO# 671050 / 671050,25011836,150T,6,612,10.2,min,41,246
SO# 671180 / 671180,U30023,Asy 38,1,84.7,1.411764,mins,340,340
SO# 671190 / 671190,U30024,Asy 38,1,84.7,1.411764,mins,340,340
SO# 671220 / 671220,U30027,ASY38,1,84.7,1.411764,mins,340,340
SO# 671250 / 671250,R351015104,600T Comp,16,852,14.2,min,16,256
SO# 671410 / 671410,TLB-13371-55,500T,24,918,15.3,min,33,792
SO# 671580 / 671580,013472-1,Asy04,1,103.9,1.732851,sec,277,277
SO# 671590 / 671590,013472-2,Asy04,1,79.77,1.329639,sec,361,361
SO# 672210 / 672210,17-20709-001,350T,32,900,15,min,50,1600
SO# 672211 / 672211,17-20709-001,350T,32,900,15,min,50,1600
SO# 672221 / 672221,17-20709-000,350T,32,600,10,min,41,1312
SO# 672610 / 672610,A17-20868-000,350T,16,1080,18,min,31,496
SO# 672640 / 672640,01-33964-000,400T,8,1020,17,min,45,360
SO# 672641 / 672641,01-33964-000,400T,8,1020,17,min,45,360
SO# 672650 / 672650,01-33963-000,500T,8,1020,17,min,32,360
SO# 672651 / 672651,01-33963-000,500T,8,1020,17,min,32,360
SO# 672800 / 672800,14432,Asy04,1,70.2,1.170731,min,410,410
SO# 672961 / 672961,RPB707-006SP,800T INJ,4,2618.1978,43.63663,min,11,44
SO# 672980 / 672980,RPB707-005SP,800T INJ,4,2618.1978,43.63663,min,20,80
SO# 672981 / 672981,RPB707-005-SP,Inj 07,1,2616,43.6,mins,20,20
SO# 673020 / 673020,RPB707-004SP,800T INJ,6,2618.178,43.6363,min,11,66
SO# 674270 / 674270,317844,600T Comp,100,2057.1426,34.28571,min,14,1400
SO# 674460 / 674460,J0687550,600T Comp,121,690,11.5,min,9,1089
SO# 674490 / 674490,55254847,600T Comp,36,552,9.2,min,30,1080
SO# 674581 / 674581,54034 4BA0D,500T,8,300,5,min,70,560
SO# 674650 / 674650,N801951S,Trim,1,1.95,28,min,14736,14736
SO# 674650 / 674650,N801951S,Trim,1,1.96,0.03257,sec,14736,14736
SO# 674740 / 674740,15660768,600T Comp,35,1620,27,min,24,840
SO# 674910 / 674910,3814463C2,600T Comp,52,360,6,min,80,4160
SO# 674950 / 674950,3824332C1,400T,16,900,15,min,33,528
SO# 675160 / 675160,C-21824,800T Comp,9,1620,27,min,16,144
SO# 675180 / 675180,F67Z 3069 AA,Asy05,1,28.8,0.48,mins,1000,1000
SO# 675210 / 675210,5083EU,600T Comp,116,1068,17.8,min,19,2204
SO# 675890 / 675890,TA108-005,600T Comp,6,1500,25,min,8,48
SO# 675901 / 675901,UO108-003P,800T INJ,4,2880,48,min,9,36
SO# 675940 / 675940,UO108-030,800T INJ,4,2880,48,min,20,36
SO# 676210 / 676210,15030648,Asy06,1,288,11.1,sec,100,100
SO# 676250 / 676250,22-65331-000,600T Comp,64,720,12,min,20,1280
SO# 677000 / 677000,EOTZ 5781 B,Asy05,1,27.559,0.4593301,sec,1045,1045
SO# 677081 / 677081,1L5Z 5A546 AA,Asy05,1,137.8,2.2966507,sec,209,209
SO# 677081 / 677081,1L5Z 5A546 AA,600T Comp,120,840,14,min,54,6480
SO# 677170 / 677170,EOTZ-5781-B,600T Comp,126,119.9982991,119.9982991,sec,10,1260
SO# 677170 / 677170,EOTZ 5781 E,Asy05,1,60,1,mins,480,480
SO# 677230 / 677230,F75Z 3A443 AB,Asy05,1,24.02,0.4003,min,1199,1199
SO# 677250 / 677250,E4TZ 3B177 A,Asy05,1,5.999999124,5.999999124,sec,,
SO# 677640 / 677640,TO108-007,600T Comp,4,27.69230749,27.69230749,sec,10,40
SO# 677650 / 677650,UO108-002,600T Comp,6,2880,48,min,20,120
SO# 677670 / 677670,AO108-004,600T Comp,4,3000,50,min,8,32
SO# 677670 / 677670,AO108-004,600T Comp,6,2880,48,min,8,48
SO# 677700 / 677700,EZ108-005,600T Comp,4,2880,48,min,20,100
SO# 677700 / 677700,EZ108-005,600T Comp,4,1500,25,min,20,100
SO# 677750 / 677750,22-65332-000,Trim,1,3.599999987,3.599999987,sec,1,8000
SO# 677750 / 677750,22-65332-000,Trim,1,3.599999987,3.599999987,sec,1,8000
SO# 677780 / 677780,TO108-002,600T Comp,4,2880,48,min,9,36
SO# 678650 / 678650,UO108-010,800T INJ,4,3000,50,min,8,32
SO# 678680 / 678680,TLB10860 10,CMP,64,288,4.8,min,100,6400
SO# 678780 / 678780,11728,Asy38,1,84.7,1.411764,mins,340,340
SO# 676791 / 676791,11681,ASY38,1,,,,,
SO# 678970 / 678970,060374-000A,800T INJ,4,252,4.2,min,24,96
SO# 678990 / 678990,05-16401,400T,16,929.0322,15.48387,min,32,496
SO# 678991 / 678991,05-16401,Trim,16,958.8,15.98,min,32,
SO# 679000 / 679000,14-14656,600T Comp,12,1260,21,min,NO RATE/ NO TIME,
SO# 679230 / 679230,2A23708-1,800T INJ,24,732,12.2,min,70,1680
SO# 679270 / 679270,TLB15 0260 60,600T Comp,8,840,14,min,6,48
SO# 679351 / 679351,12447,Asy38,1,84.7,1.411764,min,340,340
SO# 679360 / 679360,12448,Asy38,1,84.7,1.411764,mins,340,340
SO# 679590 / 679590,05181575AA,Asy02,1,48,0.8,mins,600,600
SO# 679670 / 679670,04895372AB,800T INJ,32,660,11,min,30,960
SO# 679690 / 679690,RL108-010P,600T Comp,6,2618.18178,43.636363,min,11,66
SO# 679780 / 679780,04895413AE,Asy 02,1,26.5,0.441582,sec,1087,1087
SO# 679790 / 679790,04895414AE,Asy 02,1,44.3,0.73846,mins,650,650
SO# 679920 / 679920,PT108-010P,800T INJ,4,720,12,min,25,100
SO# 680040 / 680040,A85-2010-201,Asy 38,1,84.7,1.411764,min,340,340
SO# 680050 / 680050,A85-2010-201R,Asy 38,1,84.7,1.411764,mins,340,340
SO# 680140 / 680140,A85-2010-206,Asy 38,1,84.7,1.411764,min,340,340
SO# 680150 / 680150,A85-2010-206R,Asy 38,1,84.7,1.411764,min,340,340
SO# 680160 / 680160,A85-2010-207,Asy 38,1,84.7,1.411764,min,340,340
SO# 680160 / 680161,A85-2010-208R,Asy 38,1,84.7,1.411764,min,340,340
SO# 680170 / 680170,A85-2010-207R,Asy 38,1,84.7,1.411764,mins,340,340
SO# 680190 / 680190,A85-2010-208R,Asy 38,1,84.7,1.411764,mins,340,340
SO# 680280 / 680280,A85-2011-101,Asy 38,1,84.7,1.411764,min,340,340
SO# 680290 / 680280,A85-2011-101R,Asy 38,1,84.7,1.411764,min,340,340
SO# 680300 / 680300,A85-2011-102,Asy 38,1,84.7,1.411764,min,340,340
SO# 680310 / 680310,A85-2011-102R,Asy 38,1,84.7,1.411764,min,340,340
SO# 680360 / 680360,A85-2011-108,Asy 38,1,84.7,1.411764,min,340,340
SO# 680370 / 680370,A85-2011-108R,Asy 38,1,84.7,1.411764,min,340,340
SO# 682130 / 682130,4083015C92,400T,8,930,15.5,min,120,960
SO# 682141/ 682141,84528195,500T,12,762,12.7,min,65,780
SO# 682190 / 682190,UO108-011P,800T INJ,4,2880,48,min,20,80
SO# 682210 / 682210,UO108-035P,800T INJ,16,930,15.5,min,20,320
SO# 682220 / 682220,UO108-030P,800T INJ,4,2880,48,min,20,80
"""

def get_seed_rates():
    rates = []
    f = io.StringIO(CSV_DATA)
    reader = csv.DictReader(f)
    
    for row in reader:
        try:
            # Map columns:
            # SO# -> job
            # Part Number -> part_number
            # WorkStation -> machine
            # Ideal in seconds -> ideal_cycle_time_seconds
            
            job = row.get("SO#", "").strip()
            part = row.get("Part Number", "").strip()
            machine = row.get("WorkStation", "").strip()
            
            ideal_sec_str = row.get("Ideal in seconds", "").strip()
            try:
                ideal_sec = float(ideal_sec_str)
            except ValueError:
                ideal_sec = 0.0

            cavities_str = row.get("Cavities", "1").strip()
            try:
                cavities = float(cavities_str)
            except ValueError:
                cavities = 1.0
                
            # Adjust Ideal Cycle Time to be Per Part (Machine Cycle / Cavities)
            if cavities > 1 and ideal_sec > 0:
                ideal_sec = ideal_sec / cavities
                
            # Helper logic: calculate units per hour
            if ideal_sec > 0:
                uph = 3600.0 / ideal_sec
            else:
                uph = 0.0

            if not part:
                continue

            rate = RateEntry(
                part_number=part,
                machine=machine if machine else "Unknown",
                operator="Any", # Retained from original, not explicitly removed
                job=job,
                ideal_units_per_hour=uph,
                ideal_cycle_time_seconds=ideal_sec,
                start_date=date.today(), # Retained from original, not explicitly removed
                active=True,
                notes="Hardcoded Seed Data" # Retained from original, not explicitly removed
            )
            rates.append(rate)
        except Exception as e:
            print(f"Skipping seed row: {e}")
            continue
            
    return rates
